import networkx as nx
import matplotlib.pyplot as plt

# Створення графа транспортної мережі міста Києва

# Вершини (вузли) - станції метро
stations = [
    "Хрещатик", "Майдан Незалежності", "Золоті Ворота", "Театральна", "Палац Спорту",
    "Площа Українських Героїв", "Лісова", "Чернігівська", "Дарниця", "Лівобережна",
    "Гідропарк", "Дніпро", "Арсенальна", "Університет", "Вокзальна", "Політехнічний Інститут",
    "Шулявська", "Берестейська", "Нивки", "Святошин", "Житомирська", "АкадемМістечко",
    "Червоний Хутір", "Бориспільська", "Вирлиця", "Харківська", "Позняки", "Осокорки",
    "Славутич", "Видубичі", "Звіринецька", "Печерська", "Кловська", "Лук'янівська",
    "Дорогожичі", "Сирець", "Теремки", "Іподром", "Васильківська", "Голосіївська",
    "Деміївська", "Либідська", "Палац 'Україна'", "Олімпійська", "Поштова площа",
    "Контрактова площа", "Тараса Шевченка", "Почайна", "Оболонь", "Мінська", "Героїв Дніпра"
]

# Ребра (зв'язки) - лінії метро
edges = [
    # Червона гілка
    ("Лісова", "Чернігівська"), ("Чернігівська", "Дарниця"), ("Дарниця", "Лівобережна"),
    ("Лівобережна", "Гідропарк"), ("Гідропарк", "Дніпро"), ("Дніпро", "Арсенальна"),
    ("Арсенальна", "Хрещатик"), ("Хрещатик", "Театральна"), ("Театральна", "Університет"),
    ("Університет", "Вокзальна"), ("Вокзальна", "Політехнічний Інститут"),
    ("Політехнічний Інститут", "Шулявська"), ("Шулявська", "Берестейська"),
    ("Берестейська", "Нивки"), ("Нивки", "Святошин"), ("Святошин", "Житомирська"),
    ("Житомирська", "АкадемМістечко"),
    # Зелена гілка
    ("Червоний Хутір", "Бориспільська"), ("Бориспільська", "Вирлиця"), ("Вирлиця", "Харківська"),
    ("Харківська", "Позняки"), ("Позняки", "Осокорки"), ("Осокорки", "Славутич"),
    ("Славутич", "Видубичі"), ("Видубичі", "Звіринецька"), ("Звіринецька", "Печерська"),
    ("Печерська", "Кловська"), ("Кловська", "Палац Спорту"), ("Палац Спорту", "Золоті Ворота"),
    ("Золоті Ворота", "Лук'янівська"), ("Лук'янівська", "Дорогожичі"), ("Дорогожичі", "Сирець"),
    # Синя гілка
    ("Теремки", "Іподром"), ("Іподром", "Васильківська"), ("Васильківська", "Голосіївська"),
    ("Голосіївська", "Деміївська"), ("Деміївська", "Либідська"), ("Либідська", "Палац 'Україна'"),
    ("Палац 'Україна'", "Олімпійська"), ("Олімпійська", "Площа Українських Героїв"),
    ("Площа Українських Героїв", "Майдан Незалежності"), ("Майдан Незалежності", "Поштова площа"),
    ("Поштова площа", "Контрактова площа"), ("Контрактова площа", "Тараса Шевченка"),
    ("Тараса Шевченка", "Почайна"), ("Почайна", "Оболонь"), ("Оболонь", "Мінська"),
    ("Мінська", "Героїв Дніпра"),
    # Пересадки
    ("Майдан Незалежності", "Хрещатик"), ("Золоті Ворота", "Театральна"),
    ("Палац Спорту", "Площа Українських Героїв")
]

# Створення графа за допомогою networkX
G = nx.Graph()
G.add_nodes_from(stations)
G.add_edges_from(edges)

# Візуалізація графа з використанням кольорів
plt.figure(figsize=(12, 8))

# Визначення кольорів для кожної гілки
edge_colors = []
for edge in G.edges():
    if edge in [("Лісова", "Чернігівська"), ("Чернігівська", "Дарниця"), ("Дарниця", "Лівобережна"), 
                ("Лівобережна", "Гідропарк"), ("Гідропарк", "Дніпро"), ("Дніпро", "Арсенальна"), 
                ("Арсенальна", "Хрещатик"), ("Хрещатик", "Театральна"), ("Театральна", "Університет"), 
                ("Університет", "Вокзальна"), ("Вокзальна", "Політехнічний Інститут"), 
                ("Політехнічний Інститут", "Шулявська"), ("Шулявська", "Берестейська"), 
                ("Берестейська", "Нивки"), ("Нивки", "Святошин"), ("Святошин", "Житомирська"), 
                ("Житомирська", "АкадемМістечко")]:
        edge_colors.append('red')
    elif edge in [("Червоний Хутір", "Бориспільська"), ("Бориспільська", "Вирлиця"), 
                  ("Вирлиця", "Харківська"), ("Харківська", "Позняки"), ("Позняки", "Осокорки"), 
                  ("Осокорки", "Славутич"), ("Славутич", "Видубичі"), ("Видубичі", "Звіринецька"), 
                  ("Звіринецька", "Печерська"), ("Печерська", "Кловська"), ("Кловська", "Палац Спорту"), 
                  ("Палац Спорту", "Золоті Ворота"), ("Золоті Ворота", "Лук'янівська"), 
                  ("Лук'янівська", "Дорогожичі"), ("Дорогожичі", "Сирець")]:
        edge_colors.append('green')
    elif edge in [("Теремки", "Іподром"), ("Іподром", "Васильківська"), ("Васильківська", "Голосіївська"), 
                  ("Голосіївська", "Деміївська"), ("Деміївська", "Либідська"), ("Либідська", "Палац \"Україна\""), 
                  ("Палац \"Україна\"", "Олімпійська"), ("Олімпійська", "Площа Українських Героїв"), 
                  ("Площа Українських Героїв", "Майдан Незалежності"), ("Майдан Незалежності", "Поштова площа"), 
                  ("Поштова площа", "Контрактова площа"), ("Контрактова площа", "Тараса Шевченка"), 
                  ("Тараса Шевченка", "Почайна"), ("Почайна", "Оболонь"), ("Оболонь", "Мінська"), 
                  ("Мінська", "Героїв Дніпра")]:
        edge_colors.append('blue')
    else:
        edge_colors.append('gray')

nx.draw(G, with_labels=True, edge_color=edge_colors, node_color='skyblue', node_size=500, font_size=10)
plt.title("Транспортна мережа міста Києва (метро)")
plt.show()

# Аналіз характеристик графа
print(f"Кількість вершин: {G.number_of_nodes()}")
print(f"Кількість ребер: {G.number_of_edges()}")

# Ступінь вершин
for node in G.nodes:
    print(f"Ступінь вершини '{node}': {G.degree(node)}")
